%!PS-Adobe-2.0
%%Creator: dvips(k) 5.82 Copyright 1998 Radical Eye Software
%%Title: /home/openlib/tex/spefor.a4.dvi
%%Pages: 7
%%PageOrder: Ascend
%%BoundingBox: 0 0 596 842
%%DocumentFonts: Times-Roman Times-Bold Courier Times-Italic
%%+ Courier-Oblique Courier-Bold
%%EndComments
%DVIPSWebPage: (www.radicaleye.com)
%DVIPSCommandLine: dvips -o
%+ /home/openlib/public_html/acmes/root/docu/spefor.a4.ps
%+ /home/openlib/tex/spefor.a4.dvi
%DVIPSParameters: dpi=600, compressed
%DVIPSSource:  TeX output 1999.12.22:1728
%%BeginProcSet: texc.pro
%!
/TeXDict 300 dict def TeXDict begin/N{def}def/B{bind def}N/S{exch}N/X{S
N}B/A{dup}B/TR{translate}N/isls false N/vsize 11 72 mul N/hsize 8.5 72
mul N/landplus90{false}def/@rigin{isls{[0 landplus90{1 -1}{-1 1}ifelse 0
0 0]concat}if 72 Resolution div 72 VResolution div neg scale isls{
landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div hsize
mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul TR[
matrix currentmatrix{A A round sub abs 0.00001 lt{round}if}forall round
exch round exch]setmatrix}N/@landscape{/isls true N}B/@manualfeed{
statusdict/manualfeed true put}B/@copies{/#copies X}B/FMat[1 0 0 -1 0 0]
N/FBB[0 0 0 0]N/nn 0 N/IE 0 N/ctr 0 N/df-tail{/nn 8 dict N nn begin
/FontType 3 N/FontMatrix fntrx N/FontBBox FBB N string/base X array
/BitMaps X/BuildChar{CharBuilder}N/Encoding IE N end A{/foo setfont}2
array copy cvx N load 0 nn put/ctr 0 N[}B/sf 0 N/df{/sf 1 N/fntrx FMat N
df-tail}B/dfs{div/sf X/fntrx[sf 0 0 sf neg 0 0]N df-tail}B/E{pop nn A
definefont setfont}B/Cw{Cd A length 5 sub get}B/Ch{Cd A length 4 sub get
}B/Cx{128 Cd A length 3 sub get sub}B/Cy{Cd A length 2 sub get 127 sub}
B/Cdx{Cd A length 1 sub get}B/Ci{Cd A type/stringtype ne{ctr get/ctr ctr
1 add N}if}B/id 0 N/rw 0 N/rc 0 N/gp 0 N/cp 0 N/G 0 N/CharBuilder{save 3
1 roll S A/base get 2 index get S/BitMaps get S get/Cd X pop/ctr 0 N Cdx
0 Cx Cy Ch sub Cx Cw add Cy setcachedevice Cw Ch true[1 0 0 -1 -.1 Cx
sub Cy .1 sub]/id Ci N/rw Cw 7 add 8 idiv string N/rc 0 N/gp 0 N/cp 0 N{
rc 0 ne{rc 1 sub/rc X rw}{G}ifelse}imagemask restore}B/G{{id gp get/gp
gp 1 add N A 18 mod S 18 idiv pl S get exec}loop}B/adv{cp add/cp X}B
/chg{rw cp id gp 4 index getinterval putinterval A gp add/gp X adv}B/nd{
/cp 0 N rw exit}B/lsh{rw cp 2 copy get A 0 eq{pop 1}{A 255 eq{pop 254}{
A A add 255 and S 1 and or}ifelse}ifelse put 1 adv}B/rsh{rw cp 2 copy
get A 0 eq{pop 128}{A 255 eq{pop 127}{A 2 idiv S 128 and or}ifelse}
ifelse put 1 adv}B/clr{rw cp 2 index string putinterval adv}B/set{rw cp
fillstr 0 4 index getinterval putinterval adv}B/fillstr 18 string 0 1 17
{2 copy 255 put pop}for N/pl[{adv 1 chg}{adv 1 chg nd}{1 add chg}{1 add
chg nd}{adv lsh}{adv lsh nd}{adv rsh}{adv rsh nd}{1 add adv}{/rc X nd}{
1 add set}{1 add clr}{adv 2 chg}{adv 2 chg nd}{pop nd}]A{bind pop}
forall N/D{/cc X A type/stringtype ne{]}if nn/base get cc ctr put nn
/BitMaps get S ctr S sf 1 ne{A A length 1 sub A 2 index S get sf div put
}if put/ctr ctr 1 add N}B/I{cc 1 add D}B/bop{userdict/bop-hook known{
bop-hook}if/SI save N @rigin 0 0 moveto/V matrix currentmatrix A 1 get A
mul exch 0 get A mul add .99 lt{/QV}{/RV}ifelse load def pop pop}N/eop{
SI restore userdict/eop-hook known{eop-hook}if showpage}N/@start{
userdict/start-hook known{start-hook}if pop/VResolution X/Resolution X
1000 div/DVImag X/IE 256 array N 2 string 0 1 255{IE S A 360 add 36 4
index cvrs cvn put}for pop 65781.76 div/vsize X 65781.76 div/hsize X}N
/p{show}N/RMat[1 0 0 -1 0 0]N/BDot 260 string N/Rx 0 N/Ry 0 N/V{}B/RV/v{
/Ry X/Rx X V}B statusdict begin/product where{pop false[(Display)(NeXT)
(LaserWriter 16/600)]{A length product length le{A length product exch 0
exch getinterval eq{pop true exit}if}{pop}ifelse}forall}{false}ifelse
end{{gsave TR -.1 .1 TR 1 1 scale Rx Ry false RMat{BDot}imagemask
grestore}}{{gsave TR -.1 .1 TR Rx Ry scale 1 1 false RMat{BDot}
imagemask grestore}}ifelse B/QV{gsave newpath transform round exch round
exch itransform moveto Rx 0 rlineto 0 Ry neg rlineto Rx neg 0 rlineto
fill grestore}B/a{moveto}B/delta 0 N/tail{A/delta X 0 rmoveto}B/M{S p
delta add tail}B/b{S p tail}B/c{-4 M}B/d{-3 M}B/e{-2 M}B/f{-1 M}B/g{0 M}
B/h{1 M}B/i{2 M}B/j{3 M}B/k{4 M}B/w{0 rmoveto}B/l{p -4 w}B/m{p -3 w}B/n{
p -2 w}B/o{p -1 w}B/q{p 1 w}B/r{p 2 w}B/s{p 3 w}B/t{p 4 w}B/x{0 S
rmoveto}B/y{3 2 roll p a}B/bos{/SS save N}B/eos{SS restore}B end

%%EndProcSet
%%BeginProcSet: 8r.enc
% @@psencodingfile@{
%   author = "S. Rahtz, P. MacKay, Alan Jeffrey, B. Horn, K. Berry",
%   version = "0.6",
%   date = "22 June 1996",
%   filename = "8r.enc",
%   email = "kb@@mail.tug.org",
%   address = "135 Center Hill Rd. // Plymouth, MA 02360",
%   codetable = "ISO/ASCII",
%   checksum = "119     662    4424",
%   docstring = "Encoding for TrueType or Type 1 fonts to be used with TeX."
% @}
% 
% Idea is to have all the characters normally included in Type 1 fonts
% available for typesetting. This is effectively the characters in Adobe
% Standard Encoding + ISO Latin 1 + extra characters from Lucida.
% 
% Character code assignments were made as follows:
% 
% (1) the Windows ANSI characters are almost all in their Windows ANSI
% positions, because some Windows users cannot easily reencode the
% fonts, and it makes no difference on other systems. The only Windows
% ANSI characters not available are those that make no sense for
% typesetting -- rubout (127 decimal), nobreakspace (160), softhyphen
% (173). quotesingle and grave are moved just because it's such an
% irritation not having them in TeX positions.
% 
% (2) Remaining characters are assigned arbitrarily to the lower part
% of the range, avoiding 0, 10 and 13 in case we meet dumb software.
% 
% (3) Y&Y Lucida Bright includes some extra text characters; in the
% hopes that other PostScript fonts, perhaps created for public
% consumption, will include them, they are included starting at 0x12.
% 
% (4) Remaining positions left undefined are for use in (hopefully)
% upward-compatible revisions, if someday more characters are generally
% available.
% 
% (5) hyphen appears twice for compatibility with both ASCII and Windows.
% 
/TeXBase1Encoding [
% 0x00 (encoded characters from Adobe Standard not in Windows 3.1)
  /.notdef /dotaccent /fi /fl
  /fraction /hungarumlaut /Lslash /lslash
  /ogonek /ring /.notdef
  /breve /minus /.notdef 
% These are the only two remaining unencoded characters, so may as
% well include them.
  /Zcaron /zcaron 
% 0x10
 /caron /dotlessi 
% (unusual TeX characters available in, e.g., Lucida Bright)
 /dotlessj /ff /ffi /ffl 
 /.notdef /.notdef /.notdef /.notdef
 /.notdef /.notdef /.notdef /.notdef
 % very contentious; it's so painful not having quoteleft and quoteright
 % at 96 and 145 that we move the things normally found there down to here.
 /grave /quotesingle 
% 0x20 (ASCII begins)
 /space /exclam /quotedbl /numbersign
 /dollar /percent /ampersand /quoteright
 /parenleft /parenright /asterisk /plus /comma /hyphen /period /slash
% 0x30
 /zero /one /two /three /four /five /six /seven
 /eight /nine /colon /semicolon /less /equal /greater /question
% 0x40
 /at /A /B /C /D /E /F /G /H /I /J /K /L /M /N /O
% 0x50
 /P /Q /R /S /T /U /V /W
 /X /Y /Z /bracketleft /backslash /bracketright /asciicircum /underscore
% 0x60
 /quoteleft /a /b /c /d /e /f /g /h /i /j /k /l /m /n /o
% 0x70
 /p /q /r /s /t /u /v /w
 /x /y /z /braceleft /bar /braceright /asciitilde
 /.notdef % rubout; ASCII ends
% 0x80
 /.notdef /.notdef /quotesinglbase /florin
 /quotedblbase /ellipsis /dagger /daggerdbl
 /circumflex /perthousand /Scaron /guilsinglleft
 /OE /.notdef /.notdef /.notdef
% 0x90
 /.notdef /.notdef /.notdef /quotedblleft
 /quotedblright /bullet /endash /emdash
 /tilde /trademark /scaron /guilsinglright
 /oe /.notdef /.notdef /Ydieresis
% 0xA0
 /.notdef % nobreakspace
 /exclamdown /cent /sterling
 /currency /yen /brokenbar /section
 /dieresis /copyright /ordfeminine /guillemotleft
 /logicalnot
 /hyphen % Y&Y (also at 45); Windows' softhyphen
 /registered
 /macron
% 0xD0
 /degree /plusminus /twosuperior /threesuperior
 /acute /mu /paragraph /periodcentered
 /cedilla /onesuperior /ordmasculine /guillemotright
 /onequarter /onehalf /threequarters /questiondown
% 0xC0
 /Agrave /Aacute /Acircumflex /Atilde /Adieresis /Aring /AE /Ccedilla
 /Egrave /Eacute /Ecircumflex /Edieresis
 /Igrave /Iacute /Icircumflex /Idieresis
% 0xD0
 /Eth /Ntilde /Ograve /Oacute
 /Ocircumflex /Otilde /Odieresis /multiply
 /Oslash /Ugrave /Uacute /Ucircumflex
 /Udieresis /Yacute /Thorn /germandbls
% 0xE0
 /agrave /aacute /acircumflex /atilde
 /adieresis /aring /ae /ccedilla
 /egrave /eacute /ecircumflex /edieresis
 /igrave /iacute /icircumflex /idieresis
% 0xF0
 /eth /ntilde /ograve /oacute
 /ocircumflex /otilde /odieresis /divide
 /oslash /ugrave /uacute /ucircumflex
 /udieresis /yacute /thorn /ydieresis
] def

%%EndProcSet
%%BeginProcSet: texps.pro
%!
TeXDict begin/rf{findfont dup length 1 add dict begin{1 index/FID ne 2
index/UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll
exec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]/Metrics
exch def dict begin Encoding{exch dup type/integertype ne{pop pop 1 sub
dup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get div def}
ifelse}forall Metrics/Metrics currentdict end def[2 index currentdict
end definefont 3 -1 roll makefont/setfont cvx]cvx def}def/ObliqueSlant{
dup sin S cos div neg}B/SlantFont{4 index mul add}def/ExtendFont{3 -1
roll mul exch}def/ReEncodeFont{CharStrings rcheck{/Encoding false def
dup[exch{dup CharStrings exch known not{pop/.notdef/Encoding true def}
if}forall Encoding{]exch pop}{cleartomark}ifelse}if/Encoding exch def}
def end

%%EndProcSet
TeXDict begin 39158280 55380996 1000 600 600
(/home/openlib/tex/spefor.a4.dvi) @start /Fa 138[50 50
50 50 5[50 6[50 1[50 99[{TeXBase1Encoding ReEncodeFont}7
83.022 /Courier-Bold rf /Fb 134[50 2[50 50 50 50 50 50
50 50 50 50 50 50 1[50 50 50 50 50 50 50 50 50 1[50 49[50
2[50 5[50 36[{TeXBase1Encoding ReEncodeFont}26 83.022
/Courier-Oblique rf /Fc 135[37 1[37 42 23 32 32 42 42
42 42 60 23 37 1[23 42 42 1[37 42 37 42 42 50[21 28 5[28
2[42 33[42 2[{TeXBase1Encoding ReEncodeFont}26 83.022
/Times-Italic rf /Fd 134[42 42 1[42 46 28 32 37 1[46
42 46 69 23 46 1[23 46 42 28 37 46 37 46 42 12[55 12[65
2[60 60 1[60 6[28 5[42 42 42 42 2[21 28 42[46 2[{
TeXBase1Encoding ReEncodeFont}35 83.022 /Times-Bold rf
%DVIPSBitmapFont: Fe cmsy10 10 1
/Fe 1 16 df<EB0FE0EB7FFC497E0003EBFF804814C04814E04814F04814F8A24814FCA3
B612FEA86C14FCA36C14F8A26C14F06C14E06C14C06C1480C6EBFE006D5AEB0FE01F207B
A42A>15 D E
%EndDVIPSBitmapFont
/Ff 107[50 21[50 50 50 50 50 50 50 50 50 50 50 50 50
50 50 50 50 50 50 50 1[50 50 50 50 50 50 50 50 50 50
50 50 50 50 50 50 50 50 50 50 50 50 50 50 1[50 50 50
50 50 50 50 50 50 1[50 50 50 50 50 50 50 50 50 50 50
50 50 50 2[50 50 50 50 50 50 50 50 50 50 50 50 50 50
50 50 50 50 50 50 50 50 33[{TeXBase1Encoding ReEncodeFont}90
83.022 /Courier rf /Fg 107[37 37 24[37 42 42 60 42 42
23 32 28 42 42 42 42 65 23 42 23 23 42 42 28 37 42 37
42 37 28 2[28 1[28 3[78 60 60 51 46 55 1[46 60 60 74
51 1[32 28 60 1[46 51 60 55 55 60 1[37 3[23 23 2[42 42
42 42 42 42 42 1[23 21 28 21 2[28 28 28 4[34 30[46 46
2[{TeXBase1Encoding ReEncodeFont}71 83.022 /Times-Roman
rf /Fh 134[50 50 1[50 55 33 39 44 55 55 50 55 1[28 55
1[28 55 50 1[44 55 44 55 50 11[72 1[55 9[39 5[72 1[72
11[50 50 50 50 50 3[33 42[55 2[{TeXBase1Encoding ReEncodeFont}33
99.6264 /Times-Bold rf /Fi 137[50 50 1[39 33 2[50 50
78 28 2[28 50 2[44 50 44 50 44 12[61 8[72 1[33 4[72 10[50
7[50 49[{TeXBase1Encoding ReEncodeFont}21 99.6264 /Times-Roman
rf /Fj 138[72 40 56 2[72 72 72 112 40 2[40 3[64 72 64
1[64 14[96 8[48 2[80 1[104 65[80 2[{TeXBase1Encoding ReEncodeFont}18
143.462 /Times-Roman rf end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 600dpi
TeXDict begin
%%PaperSize: A4

%%EndSetup
%%Page: 1 1
1 0 bop 753 328 a Fj(ReDIF)35 b(speci\002cation)e(\002le)i
(documentation)1153 569 y Fi(Thomas)23 b(Krichel)i(and)g(Iv)n(an)f(K)o
(urmano)o(v)1566 762 y(December)h(1999)-104 1086 y Fh(1)100
b(Intr)n(oduction)-104 1242 y Fg(This)20 b(document)f(is)i(a)n(v)n
(ailable)e(on)h(the)g(web)h(at)f Ff
(http://openlib.org/acmes/root/docu/sp)o(efor.)o(html)p
Fg(.)-104 1341 y(It)28 b(gi)n(v)o(es)e(details)i(of)f(ho)n(w)f(the)h
(ReDIF)h(format)e(is)i(being)e(encoded)g(in)h(a)h(special)f
(speci\002cation)f(\002le.)47 b(This)27 b(\002le)h(is)g(normally)e
(called)-104 1441 y(\223redif.spec\224.)d(This)d(documentation)d(e)o
(xplains)i(ho)n(w)g(to)h(mak)o(e)f(changes)g(to)h(a)g(ReDIF)g
(speci\002cation.)k(One)c(can)f(mak)o(e)h(enhancements)-104
1541 y(to)g(an)h(e)o(xisting)e(speci\002cation)g(or)h(design)g(a)g(ne)n
(w)g(speci\002cation)g(from)f(scratch.)-104 1640 y(Before)26
b(trying)f(to)i(understand)d(the)i(speci\002cation)g(of)g(ReDIF)-7
b(,)27 b(one)f(should)f(understand)g(the)h(ReDIF)h(data)f(format)f
(documentation)-104 1740 y(well,)c(because)e(this)i(document)d(is)j
(lik)o(e)g(a)f(dark)f(side)i(of)f(the)g(moon)f(for)h(ReDIF:it)g(is)i
(better)d(look)h(at)g(the)h(bright)e(side)h(\002rst.)-104
1839 y(The)i(ReDIF)h(speci\002cation)f(\002le)h(contains)f(a)h(ReDIF)g
(speci\002cation)f(in)g(a)h(custom-b)n(uilt)e(format)h(called)g(the)h
(\223SPEci\002cation)f(FOrmat)-104 1939 y(for)e(Redif)5
b(\224,)19 b(abbre)n(viated)f(spefor)-5 b(.)24 b(The)c(spefor)f(\002le)
i(is)g(loaded)f(each)f(time)i(an)o(y)e(data)h(reading)f(starts.)26
b(It)20 b(de\002nes:)21 2105 y Fe(\017)41 b Fg(template)19
b(types)h(and)g(cluster)g(types)21 2271 y Fe(\017)41
b Fg(attrib)n(utes)20 b(\(\002elds\))g(names)g(and)f(other)h
(properties)e(in)j(each)e(template)h(type)g(or)g(cluster)g(type)21
2437 y Fe(\017)41 b Fg(attrib)n(ute)19 b(data)h(types:)26
b(checking)18 b(and)i(preprocessing)-104 2603 y(Each)c(cluster)g(and)f
(template)h(has)g(a)g(\002nite)h(set)f(of)g(allo)n(wed)g(attrib)n
(utes,)g(some)g(of)g(which)f(may)h(be)g(required)e(to)i(appear)f(in)h
(e)n(v)o(ery)f(template)-104 2703 y(of)22 b(the)g(type.)31
b(An)22 b(attrib)n(ute)g(in)g(a)h(template)f(or)g(a)h(cluster)f(must)g
(ha)n(v)o(e)g(a)g(de\002ned)g(\(complete\))e(name)i(and)f(may)h(ha)n(v)
o(e)g(some)g(additional)-104 2803 y(properties)e(set.)31
b(The)22 b(additional)e(properties)g(of)i(an)g(attrib)n(ute)f(are:)28
b(type)22 b(of)f(v)n(alue,)h(the)f(permission)g(to)h(omit)g(and)f(the)h
(prohibition)d(to)-104 2902 y(repeat)h(the)g(attrib)n(ute)g(in)g(a)h
(template.)-104 3140 y Fh(2)100 b(Syntax)-104 3295 y
Fd(2.1)82 b(General)20 b(aspects)g(of)g(the)g(syntax)-104
3451 y Fg(The)h(spefor)f(syntax)h(borro)n(ws)f(some)h(features)g(of)g
(Perl)g(code)g(syntax.)28 b(Comment)20 b(lines)i(start)g(with)f(the)h
(hash)f(char)g Ff(#)g Fg(symbol.)28 b(Repe-)-104 3551
y(titions)20 b(of)g(whitespace)g(\(i.e.)g(blanks)f(and)h(tab)n(ulation)
f(characters\))g(are)h(ignored.)-104 3650 y(Spefor)j(\002les)j(mak)o(e)
e(e)o(xtensi)n(v)o(e)f(use)i(of)f(blocks)g(of)g(te)o(xt.)37
b(Blocks)25 b(start)g(with)g(the)f(open)g(curly)f(brace)h
Ff({)h Fg(character)e(and)h(end)g(with)g(the)-104 3750
y(close)g(curly)f(brace)g Ff(})h Fg(character)-5 b(.)34
b(Unlik)o(e)24 b(in)g(C)g(or)g(Perl,)g(each)f(block)g(closes)h(with)g
(a)g(line)g(consisting)f(of)g(a)h(single)g Ff(})g Fg(character)m(,)f
(not)-104 3850 y(taking)c(spaces)i(and)e(tab)i(chars)f(into)g(account.)
-104 3949 y(This)g(means)g(that)h(in)f(the)g(follo)n(wing)f(e)o
(xample:)-104 4115 y Ff(A)50 b({)-104 4281 y Fc(bloc)n(k')m(s)20
b(code)f(her)m(e)-104 4447 y Ff(})-54 4547 y(B)50 b({)-83
4713 y Fc(other)20 b(data)f(or)i(code)48 b Ff(})-104
4813 y Fg(block)24 b Ff(A)h Fg(is)h(correctly)d(closed,)j(b)n(ut)f(the)
g(block)e Ff(B)j Fg(is)f(not.)39 b(The)25 b(dif)n(ference)d(is)k(a)f
(ne)n(wline)g(character)e(before)h(closing)g(brace)g
Ff(})p Fg(.)39 b(This)-104 4912 y(imposes)22 b(a)g(limitation)f(on)h
(the)g(contents)f(of)h(each)f(block:)28 b(you)21 b(can)h(not)f(put)h(a)
g(line)g(with)g(single)g Ff(})g Fg(inside)g(a)g(block.)30
b(Be)22 b(careful)f(with)-104 5012 y(Perl)g(code)e(in)h(blocks.)-104
5112 y(The)29 b(ReDIF)h(speci\002cation)f(is)i(speci\002ed)e(by)g(a)h
(number)e(of)h(de\002nitions.)53 b(In)29 b(other)g(w)o(ords,)i
(de\002nitions)e(are)g(the)h(main)f(structural)-104 5211
y(elements)20 b(of)g(the)g(spefor)f(\002le.)-104 5432
y Fd(2.2)82 b(De\002nition)20 b(syntax)-104 5588 y Fg(A)e(de\002nition)
f(states)i(what)e(is)i(being)e(de\002ned)g(and)g(ho)n(w)g(it)h(will)h
(be)f(named)e(and)h(then)h(gi)n(v)o(es)f(the)h(contents)f(of)g(the)h
(de\002nition)f(in)g(a)i(block.)-104 5688 y(The)h(most)g(common)e
(syntax)i(is)1862 5927 y(1)p eop
%%Page: 2 2
2 1 bop -104 -21 a Fb(def_type)69 b Ff(=)50 b Fb(name)70
b(block)i Ff('\\n')-104 79 y('\\n')20 b Fg(designates)g(a)g(ne)n(wline)
g(character)f(here.)24 b(In)c(some)g(cases,)h(you)e(will)i(also)f(see)h
(de\002nitions)f(of)g(the)g(syntax)-104 178 y Fb(def_type)69
b Ff(=)50 b Fb(name)20 b Fg([)p Ff(/)49 b Fb(parameter)22
b Fg(])70 b Fb(block)j Ff('\\n')-104 278 y Fg(The)20
b(item)g(in)h(square)e(brack)o(ets)h(is)h(optional)e(here.)-104
378 y(There)j(are)g(three)g(types)h(of)f(de\002nitions.)31
b(Therefore)21 b Fb(def_type)h Fg(v)n(ariable)f(can)h(tak)o(e)h(only)f
(three)g(v)n(alues.)32 b(These)22 b(are)h Ff(template)p
Fg(,)-104 477 y Ff(cluster)d Fg(and)f Ff(type)p Fg(.)25
b(These)20 b(v)n(alues)g(are)g(case-insensiti)n(v)o(e.)-104
698 y Fd(2.3)82 b(T)-8 b(emplate)21 b(type)f(de\002nition)-104
854 y Fg(A)27 b(template)f(type)g(de\002nition)f(lists)j(attrib)n(utes)
e(of)g(a)h(template)e(and)h(sets)i(their)e(properties.)42
b(The)26 b Fb(name)g Fg(v)n(ariable)f(of)h(the)h(de\002nition)-104
954 y(line)c(gi)n(v)o(es)f(the)g(template)g(type)g(name)g(in)h(full,)f
(lik)o(e)h Ff(ReDIF-Paper)48 b(1.0)22 b Fg(for)g(e)o(xample.)31
b(All)23 b(its)g(attrib)n(utes)g(are)f(listed)h(inside)f(the)-104
1053 y(de\002nition)d Fb(block)k Fg(.)k(Each)20 b(attrib)n(ute)g(is)h
(listed)g(on)g(a)f(separate)h(line.)26 b(Each)20 b(non-empty)d(line)k
(de\002nes)f(one)g(attrib)n(ute)g(of)h(the)f(template.)-104
1153 y(Its)h(syntax)e(is)-104 1252 y Fb(attribute_name)f
Fg([)p Ff(:)p Fg([)p Fb(type)h Fg(][)p Ff(:)p Fg([)p
Fb(subtype)g Fg(][)p Ff(:)p Fg([)p Fb(required_flag)i
Fg(][)p Ff(:)p Fg([)p Fb(non_repeatable_flag)g Fg(]]]]])-104
1352 y(Whitespace)26 b(characters)e(are)i(not)f(allo)n(wed)g(inside)h
(this)g(string.)41 b(The)o(y)25 b(are)h(allo)n(wed)f(at)h(the)g(be)o
(ginning)d(or)i(end)g(of)h(the)g(string.)41 b(The)-104
1452 y(colon)19 b(character)g(is)i(a)g(delimiter)f(here.)k(The)c(only)f
(part)h(of)g(the)g(line)g(which)g(is)h(required)e(is)i(the)f
Fb(attribute_name)e Fg(.)26 b Fb(type)-104 1551 y Fg(and)g
Fb(subtype)g Fg(ha)n(v)o(e)f(se)n(v)o(eral)h(dif)n(ferent)f(uses)i(for)
f(dif)n(ferent)e(cases,)29 b(b)n(ut)d(in)h(general)e(the)o(y)h(specify)
f(content)h(properties)f(of)h(the)g(at-)-104 1651 y(trib)n(ute.)f(In)20
b(most)g(cases)h(only)e Fb(type)-104 1751 y Fg(is)i(gi)n(v)o(en,)e(the)
h Fb(subtype)g Fg(parameter)e(has)j(less)g(usage.)-104
1850 y(The)31 b(meaning)f(of)i(the)f Fb(required_flag)k
Fg(is)d(to)g(answer)f(the)h(follo)n(wing)e(question:)47
b(Is)32 b(this)g(attrib)n(ute)f(necessary)g(to)h(consider)-104
1950 y(template)20 b(or)g(cluster)g(v)n(alid)f(or)h(it)h(is)g
(optional?)j(The)c(v)n(alue)g Ff(1)g Fg(in)g(the)h Fb(required_flag)
-104 2049 y Fg(means)f(that)g(the)g(attrib)n(ute)g(is)h(required.)-104
2149 y(The)d(meaning)g(of)g Fb(non_repeatable_flag)j
Fg(is)e(to)g(answer)f(the)h(follo)n(wing)e(question:)24
b(Can)19 b(this)g(attrib)n(ute)f(appear)g(se)n(v)o(eral)g(times)-104
2249 y(in)24 b(one)f(template)f(or)i(cluster?)34 b(By)24
b(def)o(ault)f(attrib)n(utes)g(can)h(be)f(repeated,)g(b)n(ut)g(if)h
(you)e(set)j Fb(non_repeatable_flag)g Fg(to)f Ff(1)p
Fg(,)g(then)-104 2348 y(the)c(attrib)n(ute)g(will)h(become)e
(non-repeatable.)-104 2448 y(A)h(special)g(format)f(e)o(xists)h(for)g
(k)o(e)o(y)f(attrib)n(utes)h(of)f(template)g(and)h(cluster)f(types.)25
b(If)20 b(in)g(the)g Fb(required_flag)i Fg(\002eld)e(of)g(the)g(attrib)
n(ute)-104 2548 y(de\002nition)h(there)g(is)h(an)g(asterisk)g(')p
Fb(*)f Fg(')h(\(instead)f(of)h Ff(1)g Fg(or)f(an)o(ything)f(else\),)i
(then)f(this)h(attrib)n(ute)f(will)i(become)d(the)i(k)o(e)o(y)f(attrib)
n(ute)g(of)g(the)-104 2647 y(template)f(or)g(the)g(cluster)-5
b(.)-104 2747 y(In)20 b(all)g(other)f(cases)h Fb(required_flag)j
Fg(and)c Fb(non_repeatable_flag)j Fg(may)d(contain)g(an)o(y)g(digits,)g
(b)n(ut)h(normal)f(v)n(alue)g(for)g(it)i(is)-104 2846
y(1)f(or)g(nothing)f(by)g(def)o(ault.)-104 2946 y(An)h(e)o(xample)f(of)
h(a)h(v)n(alid)e(template)h(type)g(de\002nition:)-104
3129 y Ff(template)48 b(=)i(ReDIF-Person)e(1.0)h({)-104
3228 y(Template-Type:::*)295 3328 y(Handle:::1:1)295
3428 y(Name-Full:::1:1)295 3527 y(Name-First)295 3627
y(Name-Last)295 3726 y(WorkPlace:cluster:Organization::)295
3826 y(Email)295 3926 y(Fax)295 4025 y(Postal)295 4125
y(Phone)295 4225 y(Homepage:URL)195 4324 y(#)h
(Homepage-Publications:URL)195 4424 y(#)g(Classification-Jel)-104
4524 y(})-104 4706 y Fg(This)20 b(e)o(xample)f(de\002nes)g(the)h
(template)g(type)f Ff(ReDIF-Person)48 b(1.0)p Fg(.)25
b(The)19 b(attrib)n(ute)h Ff(Template-type)e Fg(is)j(the)f(k)o(e)o(y)f
(attrib)n(ute)h(of)-104 4806 y(the)25 b(template,)g(the)g
Ff(Handle)f Fg(and)g Ff(Name-Full)g Fg(attrib)n(utes)h(are)f(required)f
(and)h(non-repeatable.)36 b(The)24 b(attrib)n(ute)h Ff(Workplace)f
Fg(is)-104 4905 y(of)h(type)f Ff(cluster)g Fg(and)g(subtype)g
Ff(Organization)p Fg(.)37 b(The)25 b(attrib)n(ute)f Ff(Homepage)g
Fg(is)i(of)f(type)f Ff(URL)p Fg(.)h(Lines)g(with)g Ff(Homepage-)-104
5005 y(Publications)17 b Fg(and)h Ff(Classification-Jel)e
Fg(attrib)n(utes)j(are)g(commented)d(out.)25 b(The)o(y)17
b(are)i(not)f(included)g(into)g(the)h(template)-104 5105
y(type.)-104 5326 y Fd(2.4)82 b(Cluster)20 b(type)g(de\002nition)-104
5481 y Fg(Clusters)27 b(are)g(groups)e(of)h(attrib)n(utes.)44
b(The)o(y)25 b(are)i(de\002ned)e(outside)h(the)h(template)f(types)g
(and)g(may)g(be)h(used)f(as)h(a)g(group)e(in)i(v)n(arious)-104
5581 y(templates)20 b(to)g(b)n(uild)g(composite)f(elements.)25
b(F)o(or)20 b(e)o(xample)e(consider)h(the)i(follo)n(wing)d(cluster)i
(de\002nition)1862 5927 y(2)p eop
%%Page: 3 3
3 2 bop -104 -21 a Ff(cluster)49 b(=)g(address)g({)-54
79 y(Country:::*)-54 178 y(state:)-54 278 y(county)-54
378 y(zipcode)-54 477 y(city:::1:1)-54 577 y(street)-104
676 y(})-104 826 y Fg(Similarly)26 b(to)g(template)g(type)g
(de\002nitions,)g(a)h(cluster)f(type)g(de\002nition)f(contains)g(a)i
(list)g(of)f(attrib)n(ute)g(names)g(with)g(their)g(properties.)-104
926 y(This)20 b(particular)f(e)o(xample)g(\(abo)o(v)o(e\))f(de\002nes)i
(a)g(cluster)h(type)e(named)g Ff(address)p Fg(.)-104
1025 y(Elements)j(of)g(a)h(cluster)f(type)g(\(attrib)n(utes\))g(can)g
(not)g(be)h(used)f(directly)g(in)g(an)o(y)g(template.)31
b(T)-7 b(o)23 b(use)f(a)h(cluster)f(in)h(some)f(template)g(type,)-104
1125 y(we)e(need)e(to)h(introduce)f(it)h(there)g(through)e(an)i
(ordinary)e(attrib)n(ute.)24 b(The)19 b(attrib)n(utes)g(of)g(the)g
(cluster)g(then)g(can)g(appear)f(in)h(the)g(data)g(being)-104
1225 y(pre\002x)o(ed)g(by)g(that)i(attrib)n(ute)f(and)f(a)i(dash.)-104
1324 y(F)o(or)g(e)o(xample,)g(this)h(means)f(that)h(if)f(we)h
(introduce)e(a)i(cluster)g(of)f(type)g Ff(address)g Fg(into)g(some)g
(template)h(through)d(an)i(attrib)n(ute)h Ff(Home)-104
1424 y Fg(then)e(follo)n(wing)e(data)i(lines)h(may)f(be)g(v)n(alid)g
(inside)g(such)g(templates:)-104 1573 y Ff(Home-Country:)47
b(U.S.A.)-104 1673 y(Home-State:)h(CA)-104 1773 y(Home-City:)g(Santa)h
(Barbara)-104 1922 y Fg(More)17 b(detailed)g(e)o(xplanation)f(about)h
(ho)n(w)g(to)h(introduce)d(a)k(cluster)e(into)h(a)g(template)f(will)i
(be)e(found)f(in)i(one)f(of)h(the)g(follo)n(wing)e(sections.)-104
2022 y(Once)j(de\002ned)g(a)h(cluster)f(type)g(can)h(be)f(used)h(in)f
(an)o(y)g(template)g(or)h(e)n(v)o(en)e(cluster)i(type.)k(The)19
b(scope)g(of)h(the)f(cluster)h(type)f(de\002nition')-5
b(s)19 b(is)-104 2121 y(global)g(and)h(clusters)g(can)g(be)h(nested.)
-104 2355 y Fh(3)100 b(Attrib)n(ute)26 b(types)-104 2511
y Fg(When)19 b(we)h(list)g(attrib)n(utes)g(in)f(a)h(template)f(or)g(a)h
(cluster)f(type)g(de\002nition)f(we)i(can)f(specify)g(each)g(attrib)n
(ute)g(as)h(ha)n(ving)e(a)i(certain)f Fb(type)g Fg(.)-104
2611 y(There)g(is)j(one)d(special)h(type)g(of)g(attrib)n(utes)g(which)g
(will)h(be)f(described)f(right)g(in)i(the)f(ne)o(xt)f(section.)25
b(It)c(is)g(the)f(type)g Ff(cluster)p Fg(.)-104 2828
y Fd(3.1)82 b(Attrib)n(ute)20 b(type)g Fa(cluster)-104
2984 y Fg(If)30 b(the)f Fb(type)h Fg(property)d(of)i(an)h(attrib)n(ute)
f(line)h(tak)o(es)g(v)n(alue)f Ff(cluster)p Fg(,)i(then)e(the)g
Fb(subtype)g Fg(shall)h(point)f(to)h(a)g(speci\002c)g(cluster)-104
3083 y(type.)j(F)o(or)22 b(e)o(xample)g(if)h(we)g(ha)n(v)o(e)f
(de\002ned)g(cluster)h(type)f Ff(course)p Fg(,)h(then)f(in)h(a)h
(template)e(type)g(de\002nition)g(for)g(a)i(teacher)e(we)h(can)g(put)
-104 3183 y(follo)n(wing)c(attrib)n(ute)g(line:)-104
3333 y Ff(teaching:cluster:course)-104 3482 y Fg(In)26
b(this)h(case)g(the)f(attrib)n(ute)g Ff(teaching)g Fg(in)g(the)h
(template)e(type)h(will)h(represent)f(a)g(cluster)h(of)f(type)g
Ff(course)p Fg(.)42 b(Attrib)n(utes)27 b(of)f(this)-104
3582 y(cluster)20 b(type)g(may)g(appear)f(in)h(an)o(y)f(template)h(of)g
(this)h(type,)e(being)g(pre\002x)o(ed)g(by)h Ff(teaching-)p
Fg(.)k(F)o(or)19 b(e)o(xample,)g(look)g(at)i(a)g(template)-104
3744 y Ff(Template-Type:)47 b(ReDIF-Teacher)h(1.0)-104
3843 y(Name:)h(Thomas)g(Krichel)-104 3943 y(Teaching-Course-Name:)d
(Dynamic)i(Macroeconomics)-104 4043 y(Teaching-Course-Class-Size:)d(25)
-104 4142 y(Teaching-Course-Name:)h(Open)j(Economy)g(Macroeconomics)
-104 4242 y(Teaching-Course-Class-Size:)c(20)-104 4342
y(Handle:)k(RePEc:per:teachr:T_Krichel)-104 4504 y Fg(Such)20
b(a)g(template)g(is)h(possible)f(if)h(the)f(cluster)g(type)g
Ff(course)f Fg(has)i(been)e(de\002ned)g(as)-104 4653
y Ff(cluster)49 b(=)g(course)g({)46 4753 y(course-name:::*)46
4852 y(course-class-size)-104 4952 y(})-104 5102 y Fg(Exactly)19
b(the)i(same)f(mechanism)f(can)h(be)g(used)g(to)g(include)f(clusters)i
(into)f(other)f(clusters,)h(i.e.)h(clusters)f(can)g(be)g(nested.)-104
5336 y Fh(4)100 b(User)l(-de\002ned)27 b(v)o(alue)e(data)g(types)-104
5491 y Fg(All)20 b(we)g(dealt)f(with)h(up)f(to)h(this)f(moment)g(are)g
(the)g(ReDIF)h(template)f(structures.)24 b(Ha)n(ving)19
b(de\002ned)f(a)i(template)f(structure)g(is)h(important)-104
5591 y(for)k(parsing)g(and)g(v)n(alidating)g(data,)h(b)n(ut)g
(sometimes)g(more)f(deep)g(checking)f(of)i(data)f(is)i(desired.)38
b(And)25 b(this)g(is)h(what)f(this)g(section)g(is)-104
5691 y(about.)1862 5927 y(3)p eop
%%Page: 4 4
4 3 bop -104 -21 a Fg(W)-7 b(e)33 b(ha)n(v)o(e)e(sho)n(wn)f(ho)n(w)h
(an)h(attrib)n(ute)f(speci\002ed)g(in)h(a)g(template)f(type)g(or)g(a)h
(cluster)f(type)g(de\002nition)g(can)g(bring)f(a)i(cluster)g(into)f(a)
-104 79 y(corresponding)17 b(structure.)24 b(W)-7 b(e)21
b(use)g(a)f(special)g(v)n(alue)g(of)g Ff(cluster)f Fg(of)h(the)g
Ff(type)g Fg(property)e(of)i(an)h(attrib)n(ute)e(for)h(that.)-104
178 y(In)d(other)g(cases,)i(the)f(type)f(of)g(an)h(attrib)n(ute)f(is)i
(used)e(to)h(specify)f(the)g(attrib)n(ute')-5 b(s)18
b(v)n(alue)f(data)g(type.)24 b(These)18 b(types)f(are)h(types)f(of)g(v)
n(alue)g(that)-104 278 y(this)25 b(attrib)n(ute)e(may)h(tak)o(e.)36
b(In)24 b(most)g(cases)h(this)f(property)e(is)j(empty)e(which)g(means)h
(that)g(no)g(certain)f(data)h(type)g(has)g(been)f(assigned,)-104
378 y(and)d(an)o(y)f(v)n(alue)h(is)h(possible.)-104 477
y(F)o(or)h(e)o(xample,)g(we)h(can)f(de\002ne)g(a)i(data)e(type)g
Ff(date)h Fg(for)f(our)g(date-related)f(attrib)n(utes)h(and)g(then)g
(declare)g(those)h(attrib)n(utes)f(as)i(ha)n(ving)-104
577 y(v)n(alue)19 b(type)g Ff(date)p Fg(.)25 b(This)20
b(will)g(impose)g(some)f(checking)f(and)h(processing)g(rules)h(of)f
(the)h Ff(date)f Fg(data)h(type)f(on)h(all)g(appearances)e(of)h(the)
-104 676 y(attrib)n(utes)24 b(or)m(,)f(to)h(be)g(more)f(correct,)g(on)h
(the)f(v)n(alues)h(of)f(the)h(attrib)n(utes.)35 b(T)-7
b(o)24 b(set)h(those)e(checking)f(and)h(processing)g(rules)g(we)h(use)g
(the)-104 776 y(Perl)d(programming)16 b(language.)23
b(W)-7 b(e)22 b(will)f(be)f(more)f(elaborate)g(on)h(that)g(subject)g
(in)h(the)f(follo)n(wing)e(sections.)-104 997 y Fd(4.1)82
b(De\002ning)20 b(data)g(v)o(alue)g(types)-104 1153 y
Fg(V)-9 b(alue)18 b(types)h(de\002ne)f(rules)h(by)g(which)f(the)h
(attrib)n(ute)f(v)n(alues)h(will)g(be)g(processed)f(when)g(a)h(ReDIF)g
(data)g(\002le)h(is)f(being)f(read)g(or)h(check)o(ed.)-104
1252 y(Attrib)n(utes)h(may)f(be)g(associated)g(with)h(a)g(v)n(alue)f
(data)g(type)g(through)f(a)i(cluster)f(or)g(template)g(type)g
(de\002nition,)f(as)j(it)f(has)g(been)f(sho)n(wn)f(in)-104
1352 y(the)i(pre)n(vious)f(sections.)-104 1452 y(The)h(v)n(alue)f(data)
h(type)g(de\002nition)f(syntax)h(is)-104 1551 y Ff(type)49
b(=)21 b Fb(type_name)e Fg([)p Ff(/)h Fb(type_aspect)f
Fg(])h Fb(block)j Ff('\\n')-104 1651 y Fg(The)h Fb(type_aspect)f
Fg(speci\002es)i(ho)n(w)f(to)h(interpret)e(the)i(de\002nition')-5
b(s)23 b(content)h(block.)37 b(This)25 b(parameter)e(may)h(tak)o(e)g
(three)g(dif)n(ferent)-104 1751 y(v)n(alues)-104 1933
y Fd(check-r)o(egex)39 b Fg(a)21 b(re)o(gular)d(e)o(xpression)h(for)h
(checking)e(v)n(alue;)i(this)g(is)i(the)e(def)o(ault.)-104
2099 y Fd(check-e)o(v)o(al)40 b Fg(a)21 b(piece)f(of)f(Perl)i(code)e
(for)h(checking)e(v)n(alue)-104 2265 y Fd(pr)o(epr)o(oc-e)o(v)o(al)38
b Fg(a)21 b(piece)f(of)g(Perl)g(code)g(for)f(preprocessing)f(v)n(alue)
-104 2486 y Fd(4.2)82 b(T)-6 b(ype)20 b(aspects:)25 b(check-r)o(egex)
-104 2642 y Fg(F)o(or)20 b(e)o(xample,)e(let)j(us)g(look)e(at)i(a)f
(follo)n(wing)f(de\002nition:)-104 2908 y Ff(type)49
b(=)h(handle)e(/)i(check-regex)e({)145 3007 y
(^RePEc\\:[a-zA-Z]{3}\(\\:[a-zA-Z0-9]{6})o(\(\\:[^)o(\\s\\n]+)o
(\)?\)?$)-104 3107 y(})-104 3273 y Fg(It)29 b(de\002nes)f(a)h
Ff(check-regex)d Fg(aspect)j(of)f(data)g(type)g Ff(handle)p
Fg(.)49 b(As)29 b(a)g(result,)h(all)f(v)n(alues)f(of)g
Ff(handle)f Fg(type)h(attrib)n(utes)g(will)i(be)-104
3373 y(check)o(ed)19 b(to)h(match)g(the)g(Perl)h(re)o(gular)d(e)o
(xpression)h(in)h(the)g(braces)g(abo)o(v)o(e.)-104 3472
y(Thus)27 b(the)g Ff(check-regex)f Fg(aspect)i(allo)n(ws)f(to)h(set)g
(the)g(syntax)e(of)h(attrib)n(ute)g(v)n(alues)g(in)h(the)f(form)g(of)g
(a)h(Perl)f(re)o(gular)f(e)o(xpression.)-104 3572 y(V)-9
b(alues)20 b(that)g(don')o(t)f(match)h(the)g(Perl)g(re)o(gular)f(e)o
(xpression)g(w)o(ould)g(be)h(rejected)g(and)f(the)i(corresponding)16
b(template)k(will)h(be)f(in)m(v)n(alid.)-104 3793 y Fd(4.3)82
b(T)-6 b(ype)20 b(aspects:)25 b(check-e)o(v)o(al)-104
3949 y Fg(The)d Ff(check-eval)e Fg(aspect)i(allo)n(ws)g(to)g(set)h
(checking)d(routine)h(code)g(for)g(v)n(alues)h(of)f(the)h(data)g(type)f
(in)h(Perl)h(language.)28 b(The)21 b(code)h(is)-104 4048
y(e)n(v)n(aluated)17 b(at)i(run-time.)k(Depending)16
b(on)i(the)g(return)f(v)n(alue)h(\(or)f(last)i(e)o(xpression,)e(e)n(v)n
(aluated)g(in)i(the)f(block\),)f(the)h(attrib)n(ute)g(is)h(accepted)
-104 4148 y(or)h(rejected.)-104 4247 y(In)28 b(the)h(code)e(one)h(has)h
(access)g(to)f(the)h(v)n(alue)f(which)f(we)i(need)f(to)g(be)h(check)e
(by)h(a)h(scalar)g(v)n(ariable)e Fb($value)h Fg(.)50
b(Let')-5 b(s)29 b(look)f(at)h(an)-104 4347 y(e)o(xample)-104
4513 y Ff(type)49 b(=)h(pubstat)e(/)i(check-eval)98 b({)46
4613 y(if)49 b(\()149 b($value)49 b(!~)g(/^Forthcoming/i)e(or)394
4712 y($value)i(!~)g(/^Published/i)f(\))h({)494 4812
y(return)g(0;)46 4912 y(})g(else)g({)h(return)f(1;)g(})-104
5011 y(})-104 5177 y Fg(This)23 b(type)g(is)h(for)e(the)h
(Publication-Status)f(attrib)n(ute,)h(whose)f(v)n(alue)h(must)g(start)g
(with)g(one)g(of)g Ff(Forthcoming)e Fg(and)i Ff(Published)-104
5277 y Fg(case-insensiti)n(v)o(e.)-104 5377 y(Here)i(again)f(let)i(us)g
(remind)e(that)h(one)g(cannot)f(use)h(single)h(closing)e(brace)h
Ff(})g Fg(on)g(a)h(line)f(inside)g(a)h(block.)39 b(So)25
b(if)h(we)g(write)f(the)g(same)-104 5476 y(piece)20 b(in)g(a)h(dif)n
(ferent)d(w)o(ay)1862 5927 y(4)p eop
%%Page: 5 5
5 4 bop -104 -21 a Ff(type)49 b(=)h(pubstat)e(/)i(check-eval)247
b({)46 79 y(if)49 b(\()149 b($value)99 b(!~)49 b(/^Forthcoming/i)245
178 y(or)g($value)g(!~)g(/^Published/i)f(\))h({)544 278
y(return)f(0;)46 378 y(})h(else)g({)544 477 y(return)f(1;)46
577 y(})-104 676 y(})-104 843 y Fg(this)21 b(will)g(cause)f(an)g(error)
f(at)i(spefor)e(\002le)i(\(redif.spec\))d(reading.)-104
942 y(There)k(is)i(another)d(one)h(interesting)g(feature)g(in)h
Fb(check-eval)f Fg(aspect)g(of)h(types.)33 b(An)22 b(author)g(or)g
(maintainer)g(of)g(data)h(often)f(w)o(ants)-104 1042
y(to)e(kno)n(w)g(why)f(this)i(or)e(that)i(template)e(is)j(rejected.)i
(The)c Fc(r)m(ec)o(h)g Fg(data)g(checking)e(script)i(for)g(this)h
(purpose)d(uses)j(so-called)e(messages.)-104 1141 y(A)k(message)f(has)h
(a)g(te)o(xt)g(\(content\))d(and)i(a)h(status.)33 b(A)23
b(status)g(is)h(one)e(of)g(se)n(v)o(eral)g(le)n(v)o(els:)30
b(from)21 b(a)i(deb)n(ugging)d(note)i(\(lo)n(west\))h(to)f(a)h(f)o
(atal)-104 1241 y(error)h(message)h(\(highest\).)39 b(But)26
b(the)f(tw)o(o)h(most)f(often)f(used)h(le)n(v)o(els)h(are:)35
b(a)26 b(w)o(arning)e(and)g(an)i(error)-5 b(.)39 b(F)o(or)25
b(further)f(technical)g(details)-104 1341 y(please)c(consult)g
Fc(r)m(ec)o(h)p Fg(,)g Fc(rr)-9 b(.pm)20 b Fg(and)g Fc(messa)o(g)o
(es.pm)f Fg(Perl)i(\002les.)-104 1440 y(If)30 b(during)e(reading)g(a)i
(template)f(some)n(where)g(appears)g(a)h(message)f(with)h(status)h(of)e
(error)g(or)g(higher)m(,)i(then)e(the)h(template)f(will)i(be)-104
1540 y(rejected.)24 b(Depending)18 b(on)i(the)g(in)m(v)n(ocation)f(of)h
Fc(r)m(ec)o(h)p Fg(,)f(the)h(message)h(content)e(may)g(be)i(printed)d
(to)j(the)f(standard)f(output.)-104 1640 y(Should)24
b(a)h(type)f(checking)f(aspect)i Fc(c)o(hec)n(k-r)m(e)m(g)o(e)n(x)f
Fg(or)h Fc(c)o(hec)n(k-e)o(val)e Fg(e)o(x)o(ecuted)g(for)h(a)h
(particular)f(v)n(alue)g(produce)f(a)i(ne)o(gati)n(v)o(e)e(result,)i
(the)-104 1739 y(parsing)19 b(softw)o(are)g(will)h(generate)f(a)h
(message)g(of)f(a)h(general)f(form,)f(stating)i(that)g
Ff(value)49 b(XXX)g(of)g(type)g(YYY)h(is)f(invalid)-104
1839 y Fg(or)20 b(alik)o(e.)-104 1938 y(If)k(one)g(w)o(ants)h(to)f(mak)
o(e)g(for)g(cle)n(v)o(er)f(and)h(friendly)f(checking)g(for)g(your)h
(data,)h(he)f(may)g(w)o(ant)g(to)h(change)e(this)i(kind)e(of)h(message)
h(to)f(a)-104 2038 y(dif)n(ferent)g(one,)i(sho)n(wing)f(e)o(xactly)f
(what)i(is)g(the)g(problem)e(of)h(the)h(data.)41 b(T)-7
b(o)25 b(mak)o(e)g(this)h(in)g Fc(c)o(hec)n(k-e)o(val)e
Fg(aspect)i(de\002nition)e(you)h(may)-104 2138 y(yourself)e(initiate)i
(a)h(message.)38 b(T)-7 b(o)25 b(initiate)g(a)g(message)g(you)f(simply)
g(call)i(a)f(function)e Fc(msg)p Fg(.)39 b(But)25 b(to)g(e)o(xclude)f
(error)f(duplication,)h(if)-104 2237 y(you)19 b(initiate)i(an)f(error)f
(message)h(in)g(a)h Fc(c)o(hec)n(k-e)o(val)e Fg(block,)g(be)h(sure)g
(to)g(return)f(a)i(positi)n(v)o(e)e(v)n(alue)h(at)g(the)g(end.)-104
2337 y(The)g Fc(msg)h Fg(subroutine)d(accepts)i(the)g(message)h(te)o
(xt)f(as)h(the)f(\002rst)h(parameter)m(,)d(and)i(a)h(number)d(-)j(the)f
(status)h(le)n(v)o(el)f(as)h(the)f(second)g(param-)-104
2437 y(eter)-5 b(.)-104 2536 y(The)20 b(status)h(le)n(v)o(el)f(of)g(2)g
(corresponds)e(to)i(a)h(w)o(arning,)d(3)j(-)f(to)g(an)h(error)-5
b(.)-104 2636 y(F)o(or)22 b(e)o(xample,)g(the)h(code)f(in)g(the)h
(follo)n(wing)e(type)h(de\002nition)g(may)g(generate)f(an)i(error)e
(message)i(when)f(the)g(corresponding)e(v)n(alue)i(is)-104
2735 y(incorrect.)-54 2918 y Ff(type)49 b(=)h(integer)e(/)i(check-eval)
e({)145 3117 y(if)i(\($value)e(=~)i(/^\\d+$/\))e({)-104
3217 y(msg)h("\($file,)g($line\):)f(Value)h(<$value>)f(is)i(not)f(an)g
(integer",)g(3;)-104 3317 y(return)g(1;)199 b(#)49 b(as)h(if)f(it)h
(was)f(OK)145 3416 y(;})-104 3516 y(})-104 3698 y Fg(Thus)20
b(function)e Fc(msg)j Fg(sends)f(a)h(message.)k(The)19
b Fc($\002le)h Fg(and)g Fc($line)g Fg(v)n(ariables)f(will)i(be)f(equal)
g(to)g(the)g(data)g(\002lename)g(and)g(the)g(line)g(number)-104
3798 y(position)f(in)i(the)f(\002le.)-104 3898 y(Apart)c(from)f
(\002guring)f(out)i(and)f(reporting)f(errors,)i(you)f(can)h(also)h(gi)n
(v)o(e)e(user)h(a)g(w)o(arning)f(about)g(data.)24 b(Let')-5
b(s)16 b(look)f(into)h(another)f(e)o(xample)-104 4080
y Ff(type)49 b(=)h(URL)f(/)h(check-eval)e({)46 4180 y(if)h(\()249
b($value)49 b(=~)g(/^\(ftp|http\):\\/\\//i)295 4280 y(and)g($value)g
(!~)g(/^\(ftp|http\):\\/\\//)d(\))k({)394 4379 y(msg)f("\($file,)g
($line\):)f(URL)i(capitalization)d(is)i(bad)g(<$value>",)f(2;)394
4479 y($value)h(=~)g(s/^Ftp/ftp/i;)394 4579 y($value)g(=~)g
(s/^Http/http/i;)46 4678 y(;})46 4877 y($value)f(=~)i(/^\(URL:\)?)195
4977 y(\(ftp|http|gopher\)\\:)195 5077 y(\\/\\/[a-zA-Z0-9\\_\\.\\-]+)
195 5176 y(\(\\:[0-9]+\)?)195 5276 y
(\(\\/?|[\\~\\&\\\045\\^\\@\\!\\'\\"\\`\\\(\\\)\\|\\#\\:\\)o(;\\/A-)o
(Za-z\\-)o(\\_0-9)o(\\?\\=\\)o(*\\\\\\+\\)o(,\\.]+)o(\)$/x;)-104
5376 y(})-104 5558 y Fg(In)24 b(the)h(\002rst)h(part)e(of)g(this)i
Fc(c)o(hec)n(k-e)o(val)d Fg(we)i(check)f(the)h(capitalization)e(of)i
(the)f(starting)h(part)f(of)g(a)i(URL)f(\(protocol,)e(lik)o(e)i(http)g
(or)f(ftp\).)-104 5658 y(The)c(line)1862 5927 y(5)p eop
%%Page: 6 6
6 5 bop -104 -21 a Ff(msg)49 b("\($file,)g($line\):)f(URL)h
(capitalization)f(is)h(bad)g(\\"$value\\"",)f(2;)-104
135 y Fg(creates)29 b(a)g(message)f(with)h(status)g(2)g(\(W)-7
b(arning\).)49 b(The)28 b(template)g(will)h(not)g(be)f(ignored.)48
b(Then)28 b(we)h(correct)f(the)g(capitalization)g(of)-104
235 y(the)23 b(v)n(alue)g(and)f(go)h(further)-5 b(.)33
b(In)23 b(the)g(\002nishing)g(part)f(of)h(the)g(block)g(we)g(check)g
(the)g(v)n(alue)f(to)i(match)e(a)i(big)f(re)o(gular)e(e)o(xpression)h
(\(Perl5)-104 334 y(e)o(xtended)f(syntax)h(-)h(note)f("/x")h(in)g(the)f
(end\).)32 b(The)22 b(logical)h(v)n(alue)f(calculated)g(in)h(the)f
(result)h(of)g(this)g(matching)e(operator)g(will)j(trigger)-104
434 y(an)c(error)f(if)i(the)f(v)n(alue)f(does)h(not)g(match.)-104
650 y Fd(4.4)82 b(T)-6 b(ype)20 b(aspects:)25 b(pr)o(epr)o(oc)-104
806 y Fg(Another)17 b(useful)h(function)f(that)i(a)g(ReDIF)g(parsing)f
(softw)o(are)g(\(which)g(is)h(behind)e Fc(r)m(ec)o(h)p
Fg(,)i Fc(r)m(er)m(e)g Fg(or)f Fc(rr)-9 b(.pm)p Fg(\))19
b(may)f(perform)e(is)k(in)f(to)f(con)m(v)o(ert)-104 905
y(attrib)n(ute)i(v)n(alues)g(from)f(the)h(form)f(in)i(which)e(the)h
(author)f(has)i(written)f(it)h(to)f(some)g(other)f(\(possibly)-5
b(,)19 b(standardized\))f(form.)-104 1005 y(Historically)f(within)g
(the)h(RePEc)g(project,)f(a)g(need)g(for)g(this)h(feature)e(arose)h
(with)h(the)f(use)h(of)f(the)h(subject)f(classi\002cation)g(codes)g
(de\002ned)-104 1105 y(by)25 b(the)g(Journal)f(of)h(Economic)e
(Literature,)i(the)g(JEL)h(codes.)39 b(F)o(or)25 b(e)o(xample,)f(we)i
(could)e(do)g(\(and)h(actually)f(did\))h(so,)h(that)f(a)h(sample)-104
1204 y(v)n(alue)c(of)g(JEL)h(classi\002cation)g(attrib)n(ute)f
Ff(a21;)49 b(b3,)g(X3)23 b Fg(w)o(ould)f(be)g(automagically)e(con)m(v)o
(erted)g(to)j Ff(A21)49 b(B3)23 b Fg(at)g(the)g(data)f(reading)-104
1304 y(stage,)g(`on)e(the)h(\003y'.)29 b(This)21 b(con)m(v)o(ersion)e
(includes:)27 b(change)20 b(to)h(the)g(uppercase)f(letters,)i
(separation)e(by)h(single)g(space)h(characters,)e(and)-104
1404 y(ignoring)e(\(\002ltering)i(out\))f(the)h(in)m(v)n(alid)f(code)h
Ff(X3)p Fg(.)-104 1503 y(It)26 b(is)h(implemented)c(using)i(a)i
Ff(preproc)d Fg(v)n(alue)h(data)h(type)f(aspect.)42 b(It)25
b(w)o(orks)h(v)o(ery)e(much)h(lik)o(e)h Ff(check-eval)p
Fg(.)40 b(The)25 b Ff(preproc)-104 1603 y Fg(type)20
b(block)f(is)i Ff(eval)p Fg(-uated)e(in)h(Perl)g(while)h(reading)d
(data,)i(b)n(ut)g(the)h(resulting)e(\(returned\))f(v)n(alue)h(does)h
(not)g(matter)-5 b(.)-104 1702 y(Consider)20 b(another)e(follo)n(wing)h
(e)o(xample:)-104 1858 y Ff(type)49 b(=)h(date)f(/)g(preproc)g({)46
1958 y(return)f(if)i($value)e(eq)i('';)-4 2058 y(if)f(\($value)g(!~)g
(/-/)g(\))h({)195 2157 y($value)f(=~)g
(s/^\(\\d{4}\)\(\\d{2}\)$/$1-$2/;)195 2257 y($value)g(=~)g
(s/^\(\\d{4}\)\(\\d{2}\)\(\\d{2}\)/$1-$2-$3/;)43 b(})-4
2357 y(if)49 b(\($value)g(!~)g(/^\\d{4}\(-\\d\\d\){0,2}$/)d(\))k({)195
2456 y(if)f(\($rr::Options{'MessageOut'}\))95 b({)394
2556 y(include_attrline\()47 b(\);)394 2655 y(msg)i("\($file,)g
($line\):)f(A)i(bad)f(date)g(value)g(format:)g(\\"$value\\"",)e(2;)195
2755 y(})j(else)f({)g($value)g(=)h('')f(;)h(})195 2855
y(return)f(1;)-4 2954 y(;})-104 3054 y(})-104 3210 y
Fg(This)20 b(e)o(xample)e(is)i(for)f(attrib)n(utes)g(of)g(the)h
Fc(date)f Fg(type.)24 b(Dates)c(are)g(con)m(v)o(erted)c(to)k(a)g
(standard)e(form)h(or)g(cleared)f(to)i Ff(\224)p Fg(,)g(if)f(original)g
(v)n(alue)g(is)-104 3310 y(of)f(incorrect)g(format.)23
b(But)c(if)g(this)g(code)f(is)i(e)o(x)o(ecuted)c(in)j(the)g(data)f
(checking)f(mode)h(\(for)f(e)o(xample,)h(in)g Fc(r)m(ec)o(h)h
Fg(script\))f(which)g(is)i(check)o(ed)-104 3409 y(by)d
Ff($rr::Options{'MessageOut'})12 b Fg(then)17 b(a)g(w)o(arning)f
(message)g(is)i(generated.)k(Also)c(note)e(a)h(function)f(call)h
(before)e(creating)-104 3509 y(a)21 b(message:)-104 3608
y Ff(include_attrline\()47 b(\);)-104 3708 y Fg(This)20
b(is)i(necessary)d(for)h(correct)f(rech)g(output)g(if)i(you)e(generate)
g(messages)h(in)h Ff(preproc)p Fg(.)-104 3941 y Fh(5)100
b(Checking)25 b(sequence)-104 4097 y Fg(Just)f(to)f(clear)g(some)h
(possible)e(questions,)h(here)g(we)h(ha)n(v)o(e)e(a)i(brief)e
(introduction)f(about)h(ho)n(w)h(the)g(ReDIF)h(data)f(is)h(being)f
(parsed)f(and)-104 4196 y(ho)n(w)e(the)g(spefor)f(\002le)i(is)g(being)e
(used.)-104 4296 y(When)24 b(a)g(ReDIF)h(parsing)e(engine)g(behind)g
Fc(rr)-9 b(.pm)p Fg(,)25 b Fc(r)m(er)m(e)g Fg(and)e Fc(r)m(ec)o(h)h
Fg(reads)g(an)g(attrib)n(ute,)g(it)h(checks)f(some)f(control)g(v)n
(alues)h(i.e.)g(it)h(asks)-104 4395 y(se)n(v)o(eral)18
b(questions)h(about)f(an)g(attrib)n(ute.)25 b(If)18 b(an)o(y)h(of)f(a)i
(question)d(leads)j(to)f(a)g(ne)o(gati)n(v)o(e)e(result,)i(an)g(error)f
(is)i(being)e(created.)23 b(And)c(such)g(an)-104 4495
y(error)e(causes)g(the)h(whole)f(template)g(to)h(be)g(treated)f(as)h
(in)m(v)n(alid.)23 b(The)17 b(template)g(is)i(ignored)d(and)h(the)h
(processing)e(program)f(\(the)j(parser')-5 b(s)-104 4595
y(client\))20 b(cannot)f(see)i(it.)-104 4694 y(The)h(\002rst)h(thing)e
(check)o(ed)g(about)g(attrib)n(ute)h(is)h(whether)e(the)i(attrib)n(ute)
e(is)i(correctly)e(placed.)30 b(Is)23 b(it)g(allo)n(wed)e(for)h(the)g
(current)f(template)-104 4794 y(and/or)e(cluster)h(type\(s\)?)k(If)c
(the)g(attrib)n(ute)g(is)h(repeated,)e(is)i(it)g(allo)n(wed)f(to)g(be)g
(repeated)f(here?)-104 4894 y(If)j(the)g(attrib)n(ute)f(\002ts)i(well)f
(into)g(the)f(template)h(structure)f(\(does)g(not)g(violate)h(the)f
(template)h(type\),)f(the)h(parser)f(then)g(checks)g(the)h(v)n(alue)
-104 4993 y(of)e(the)g(attrib)n(ute.)-104 5093 y(The)d(engine)e(then)i
(checks)f(what)h(type)g(of)f(attrib)n(ute)h(it)g(is)h(\(as)f(it)h(is)g
(de\002ned)e(in)h(the)g(template)f(or)h(cluster)f(type\).)23
b(If)17 b(its)h(type)f(is)g Ff(cluster)p Fg(,)-104 5192
y(then)26 b(the)g(engine)f Fc(opens)h Fg(a)h(ne)n(w)f(cluster)-5
b(.)43 b(If)26 b(it)h(is)h(of)e(some)g(data)g(type,)h(that)f(type')-5
b(s)27 b Ff(preproc)e Fg(aspect)h(is)i(check)o(ed)d(and)g(e)o(x)o
(ecuted)-104 5292 y(\()p Ff(eval)p Fg(-uated\),)18 b(if)j(it)h(has)f
(been)f(de\002ned)g(in)h(spefor)-5 b(.)26 b(Then)20 b
Ff(check-regex)f Fg(is)j(matched)e(if)h(de\002ned.)k(Ne)o(xt)c(step)g
(is)h Ff(check-eval)-104 5392 y(eval)p Fg(-uation,)c(you)h(guessed,)h
(if)g(de\002ned.)-104 5491 y(If)k(at)h(the)f Ff(check-regex)f
Fg(or)h(the)g Ff(check-eval)f Fg(stage)i(a)g(ne)o(gati)n(v)o(e)d
(result)i(has)h(been)e(recei)n(v)o(ed,)h(then)g(the)g(engine)f
(generates)h(an)-104 5591 y(error)i(and)h(stops)h(further)e(processing)
g(of)i(the)f(template.)47 b(Actually)27 b(the)g(same)h(happens)e(if)i
(an)f(error)g(appears)f(in)i(the)f Ff(pre-proc)-104 5691
y Fg(aspect.)1862 5927 y(6)p eop
%%Page: 7 7
7 6 bop -104 -21 a Fg(When)16 b(a)h(ne)n(w)f Ff(Template-type)e
Fg(attrib)n(ute)i(is)h(encountered)c(or)j(an)g(end)g(of)g(\002le)h(is)g
(reached,)e(the)i(template)e(is)i(check)o(ed)e(to)i(contain)e(all)-104
79 y Fc(r)m(equir)m(ed)23 b Fg(attrib)n(utes)e(of)f(the)h(template)g
(type.)27 b(Processing)20 b(the)h(template)g(goes)g(on)f(successfully)h
(only)f(if)h(this)h(check)e(returns)g(positi)n(v)o(e)-104
178 y(result.)25 b(After)20 b(that)g(the)g(template)g(is)h(considered)e
(to)h(be)g(complete)f(and)h(v)n(alid.)1862 5927 y(7)p
eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF
